function tn(){return!(typeof process>"u"||!process.cwd||!process.versions||typeof process.versions.node>"u"||!process.release||process.release.name!=="node")}function be(e,t){let n;{var i=Error.stackTraceLimit;Error.stackTraceLimit=1/0,n=new Error(e),Error.stackTraceLimit=i}return tn()&&(n.stack=nn(n.stack,t)),n}function nn(e,t){if(!e)return e;const n=on(e);let i=0;return n.filter(o=>o.includes(" (internal/")||o.includes(" (node:internal")?!1:i<t&&rn(o)?(i++,!1):!0).join(`
`)}function rn(e){return e.startsWith("    at ")}function on(e){return e.split(/\r?\n/)}function C(e,t){const n=globalThis.__vite_plugin_ssr=globalThis.__vite_plugin_ssr||{};return n[e]=n[e]||t}function R(e){return typeof e=="object"&&e!==null}function Pe(e){return Array.from(new Set(e))}const x=C("assertPackageInstances.ts",{instances:[],alreadyLogged:new Set}),sn="The client runtime of Server Routing as well as the client runtime of Client Routing are both being loaded. Make sure they aren't loaded both at the same time for a given page. See https://vite-plugin-ssr.com/client-runtimes-conflict",nt="Two vite-plugin-ssr client runtime instances are being loaded. Make sure your client-side bundles don't include vite-plugin-ssr twice. (In order to reduce the size of your client-side JavaScript bundles.)";function it(){{const e=Pe(x.instances);if(e.length>1){const t=`Both vite-plugin-ssr@${e[0]} and vite-plugin-ssr@${e[1]} loaded. Only one version should be loaded.`;un(!1,t)}}x.checkSingleInstance&&x.instances.length>1&&ge(!1,nt,{onlyOnce:!0,showStackTrace:!0})}function ln(e){ge(x.isClientRouting!==!1,sn,{onlyOnce:!0,showStackTrace:!0}),ge(x.isClientRouting===void 0,nt,{onlyOnce:!0,showStackTrace:!0}),x.isClientRouting=!0,e&&(x.checkSingleInstance=!0),it()}function an(e){x.instances.push(e),it()}function un(e,t){if(e)return;const n=`[vite-plugin-ssr][Wrong Usage] ${t}`;throw new Error(n)}function ge(e,t,{onlyOnce:n,showStackTrace:i}){if(e)return;const r=`[vite-plugin-ssr][Warning] ${t}`;if(n){const{alreadyLogged:o}=x,l=n===!0?r:n;if(o.has(l))return;o.add(l)}console.warn(i?new Error(r):r)}const cn="0.4.135",L={projectName:"vite-plugin-ssr",projectVersion:cn,npmPackageName:"vite-plugin-ssr",githubRepository:"https://github.com/brillout/vite-plugin-ssr"};an(L.projectVersion);const rt=new Proxy(e=>e,{get:()=>rt}),he=rt,w=C("utils/assert.ts",{alreadyLogged:new Set,logger(e,t){t==="info"?console.log(e):console.warn(e)},showStackTraceList:new WeakSet}),fn=`[${L.npmPackageName}]`,dn=`[${L.npmPackageName}@${L.projectVersion}]`,Re=2;function s(e,t){var n;if(e)return;const i=(()=>{if(!t)return null;const l=typeof t=="string"?t:"`"+JSON.stringify(t)+"`";return`Debug info (this is for the ${L.projectName} maintainers; you can ignore this): ${l}`})();let r=[`You stumbled upon a bug in ${L.projectName}'s source code.`,`Go to ${L.githubRepository}/issues/new and copy-paste this error; a maintainer will fix the bug (usually under 24 hours).`,i].filter(Boolean).join(" ");r=z(r),r=re(r,"Bug"),r=U(r,!0);const o=be(r,Re);throw(n=w.onBeforeLog)===null||n===void 0||n.call(w),o}function h(e,t,{showStackTrace:n}={}){var i;if(e)return;t=z(t),t=re(t,"Wrong Usage"),t=U(t);const r=be(t,Re);throw n&&w.showStackTraceList.add(r),(i=w.onBeforeLog)===null||i===void 0||i.call(w),r}function ot(e){return e=z(e),e=re(e,"Error"),e=U(e),be(e,Re)}function P(e,t,{onlyOnce:n,showStackTrace:i}){var r;if(!e){if(t=z(t),t=re(t,"Warning"),t=U(t),n){const{alreadyLogged:o}=w,l=n===!0?t:n;if(o.has(l))return;o.add(l)}if((r=w.onBeforeLog)===null||r===void 0||r.call(w),i){const o=new Error(t);w.showStackTraceList.add(o),w.logger(o,"warn")}else w.logger(t,"warn")}}function we(e,t,{onlyOnce:n}){var i;if(!e){if(t=z(t),t=U(t),n){const{alreadyLogged:r}=w,o=t;if(r.has(o))return;r.add(o)}(i=w.onBeforeLog)===null||i===void 0||i.call(w),w.logger(t,"info")}}function re(e,t){let n=`[${t}]`;return n=he[t==="Warning"?"yellow":"red"](n),`${n}${e}`}function z(e){return e.startsWith("[")?e:` ${e}`}function U(e,t=!1){return`${t?dn:fn}${e}`}function D(){return typeof window<"u"&&typeof window.scrollY=="number"}const st=C("utils/assertRouterType.ts",{});function N(){gn(lt()),st.isClientRouting=!0}function lt(){return st.isClientRouting!==!1}function gn(e){h(D(),"`import { something } from 'vite-plugin-ssr/client/router'` is forbidden on the server-side",{showStackTrace:!0}),P(e,"You shouldn't `import { something } from 'vite-plugin-ssr/client/router'` when using Server Routing. The 'vite-plugin-ssr/client/router' utilities work only with Client Routing. In particular, don't `import { navigate }` nor `import { prefetch }` as they unnecessarily bloat your client-side bundle.",{showStackTrace:!0,onlyOnce:!0})}const hn=["js","ts","cjs","cts","mjs","mts","jsx","tsx","cjsx","ctsx","mjsx","mtsx"],at=["vue","svelte","marko","md","mdx"],pn=[...hn,...at];function ut(e){const t=pn.some(n=>e.endsWith("."+n));return s(!mn(e)||t),t}function mn(e){return/\.(c|m)?(j|t)sx?$/.test(e)}function yn(e){return at.some(t=>e.endsWith("."+t))}function T(e,t,n){return typeof e=="string"?Le(e.split(""),t,n).join(""):Le(e,t,n)}function Le(e,t,n){const i=[];let r=t>=0?t:e.length+t;s(r>=0&&r<=e.length);let o=n>=0?n:e.length+n;for(s(o>=0&&o<=e.length);!(r===o||(r===e.length&&(r=0),r===o));){const l=e[r];s(l!==void 0),i.push(l),r++}return i}function Ee(e){return e.startsWith("/")||e.startsWith("http")||e.startsWith("tauri://")||e.startsWith(".")||e.startsWith("?")||e.startsWith("#")||e===""}function vn(e,t){s(t.includes(" but ")),h(typeof e=="string",`${t} should be a string`),!Ee(e)&&(!e.startsWith("/")&&!e.includes(":")?h(!1,`${t} is '${e}' and it should be '/${e}' instead (URL pathnames should start with a leading slash)`):h(!1,`${t} isn't a valid URL`))}function G(e,t){s(Ee(e),{url:e}),s(t.startsWith("/"),{url:e,baseServer:t});const[n,...i]=e.split("#");s(n!==void 0);const r=["",...i].join("#")||null;s(r===null||r.startsWith("#"));const o=r===null?"":pe(r.slice(1)),[l,...a]=n.split("?");s(l!==void 0);const u=["",...a].join("?")||null;s(u===null||u.startsWith("?"),{url:e,searchOriginal:u});const c={},f={};Array.from(new URLSearchParams(u||"")).forEach(([b,_])=>{c[b]=_,f[b]=[...f[b]||[],_]});const{origin:d,pathnameResolved:p}=bn(l,t);s(d===null||d===pe(d),{origin:d}),s(p.startsWith("/"),{url:e,pathnameResolved:p}),s(d===null||e.startsWith(d),{url:e,origin:d});const m=l.slice((d||"").length);{const b=`${d||""}${m}${u||""}${r||""}`;s(e===b,{url:e,urlRecreated:b})}let{pathname:v,hasBaseServer:O}=Rn(p,t);return v=_n(v),s(v.startsWith("/")),{origin:d,pathname:v,pathnameOriginal:m,hasBaseServer:O,search:c,searchAll:f,searchOriginal:u,hash:o,hashOriginal:r}}function pe(e){try{return decodeURIComponent(e)}catch{}try{return decodeURI(e)}catch{}return e}function _n(e){return e.split("/").map(t=>pe(t).split("/").join("%2F")).join("/")}function bn(e,t){var n;if(e.startsWith("//"))return{origin:null,pathnameResolved:e};let i=!1;const r="tauri://",o="http://";e.startsWith(r)&&(i=!0,e=o+e.slice(r.length));let l,a;try{const u=new URL(e);l=u.origin,a=u.pathname}catch{l=null;let c=typeof window<"u"&&((n=window==null?void 0:window.document)===null||n===void 0?void 0:n.baseURI);c=c||"http://fake.example.org"+t,a=new URL(e,c).pathname}return a||(a="/"),i&&(s(l),s(l.startsWith(o)),l=r+l.slice(o.length)),s(a.startsWith("/"),{urlWithoutSearch:e,pathnameResolved:a}),s(a===a.split("?")[0].split("#")[0]),{origin:l,pathnameResolved:a}}function Pn(e){s(e.startsWith("/")),s(!e.includes("?")),s(!e.includes("#"))}function Rn(e,t){Pn(e),s(Se(t));let n=e;if(s(n.startsWith("/")),s(t.startsWith("/")),t==="/")return{pathname:e,hasBaseServer:!0};let i=t;return t.endsWith("/")&&n===T(t,0,-1)&&(i=T(t,0,-1),s(n===i)),n.startsWith(i)?(s(n.startsWith("/")||n.startsWith("http")),s(n.startsWith(i)),n=n.slice(i.length),n.startsWith("/")||(n="/"+n),s(n.startsWith("/")),{pathname:n,hasBaseServer:!0}):{pathname:e,hasBaseServer:!1}}function Se(e){return e.startsWith("/")}function y(e,t){Object.assign(e,t)}function $(e){return e instanceof Function||typeof e=="function"}function X(e){return(t,n)=>{const i=e(t),r=e(n);return i===r?0:i>r?-1:1}}function I(e){return(t,n)=>{const i=e(t),r=e(n);if(s([!0,!1,null].includes(i)),s([!0,!1,null].includes(r)),i===r)return 0;if(i===!0||r===!1)return-1;if(r===!0||i===!1)return 1;s(!1)}}function wn(e){return I(t=>{const n=e(t);return n===null?null:!n})}function g(e,t,n="unknown"){if(!R(e))return!1;if(!(t in e))return n==="undefined";if(n==="unknown")return!0;const i=e[t];return n==="array"?Array.isArray(i):n==="object"?R(i):n==="string[]"?Array.isArray(i)&&i.every(r=>typeof r=="string"):n==="function"?$(i):Array.isArray(n)?typeof i=="string"&&n.includes(i):n==="null"?i===null:n==="undefined"?i===void 0:n==="true"?i===!0:n==="false"?i===!1:typeof i===n}function j(e){return typeof e!="object"||e===null?!1:Object.getPrototypeOf(e)===null?!0:e.constructor.name==="Object"}function En(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}const Sn=e=>e!=null;function De(e){return"["+e.map(t=>"'"+t+"'").join(", ")+"]"}const Fn="\\";function ct(e){const t=n=>`Not a posix path: ${n}`;s(e!==null,t("null")),s(typeof e=="string",t(`typeof path === '${typeof e}'`)),s(e!=="",t("(empty string)")),s(e),s(!e.includes(Fn),t(e))}function ae(e,t){const n=Object.getOwnPropertyDescriptor(e,t);return!!n&&!("value"in n)&&!!n.get}function On(e){return typeof e=="object"&&e!==null&&"then"in e&&$(e.then)}const Cn=["$$registrations","_rerender_only"],kn=[".md",".mdx"];function xn(e,t){Tn(e,t,!0)}function Tn(e,t,n){const r=Object.keys(e).filter(a=>!Cn.includes(a)),o=r.filter(a=>a!=="default"),l=r.includes("default");if(o.length===0){if(l)return;s(r.length===0),h(!1,`${t} doesn't export any value, but it should have a \`export default\` instead`)}else if(!kn.some(a=>t.endsWith(a))){const a=o.join(", ");n?P(o.length===0,`${t} should only have a default export: remove \`export { ${a} }\``,{onlyOnce:!0}):P(o.length===0,`${t} replace \`export { ${a} }\` with \`export default { ${a} }\``,{onlyOnce:!0})}}function An(e){return Object.entries(e)}const jn=["clientRouting"];function $n(e){jn.forEach(t=>{if(s(e.fileExports),!(t in e.fileExports))return;const n=`The value of \`${t}\` is only allowed to be \`true\`.`;h(e.fileExports[t]!==!1,`${e.filePath} has \`export { ${t} }\` with the value \`false\` which is prohibited: remove \`export { ${t} }\` instead. (${n})`),h(e.fileExports[t]===!0,`${e.filePath} has \`export { ${t} }\` with a forbidden value. ${n}`)})}const ft=["render","clientRouting","prerender","doNotPrerender"];function In(e,t){h(!ft.includes(e),`${t} has \`export default { ${e} }\` which is prohibited, use \`export { ${e} }\` instead.`)}function Ln(e,t){const n={},i={},r={};if(e.forEach(a=>{Dn(a).forEach(({exportName:c,exportValue:f,isFromDefaultExport:d})=>{var p;s(c!=="default"),r[c]=(p=r[c])!==null&&p!==void 0?p:[],r[c].push({exportValue:f,exportSource:`${a.filePath} > ${d?`\`export default { ${c} }\``:`\`export { ${c} }\``}`,filePath:a.filePath,_filePath:a.filePath,_fileType:a.fileType,_isFromDefaultExport:d})})}),t){const{configValues:a}=t;An(a).forEach(([u,c])=>{var f,d,p;const m=t.configElements[u];s(m);const{configDefinedByFile:v,configDefinedAt:O}=m;s(v),i[u]=(f=i[u])!==null&&f!==void 0?f:c,n[u]=(d=n[u])!==null&&d!==void 0?d:[],s(n[u].length===0),n[u].push({configValue:c,configDefinedAt:O,configDefinedByFile:v});const b=u;r[b]=(p=r[b])!==null&&p!==void 0?p:[],r[b].push({exportValue:c,exportSource:O,filePath:v,_filePath:v,_fileType:null,_isFromDefaultExport:null})})}const o=Bn(),l={};return Object.entries(r).forEach(([a,u])=>{u.forEach(({exportValue:c,_fileType:f,_isFromDefaultExport:d})=>{var p;l[a]=(p=l[a])!==null&&p!==void 0?p:c,f===".page"&&!d&&(a in o||(o[a]=c))})}),s(!("default"in l)),s(!("default"in r)),{config:i,configEntries:n,exports:l,exportsAll:r,pageExports:o}}function Dn(e){const{filePath:t,fileExports:n}=e;s(n),s(ut(t));const i=[];return Object.entries(n).sort(wn(([r])=>r==="default")).forEach(([r,o])=>{let l=r==="default";if(l)if(yn(t))r="Page";else{h(R(o),`The \`export default\` of ${t} should be an object.`),Object.entries(o).forEach(([a,u])=>{In(a,t),i.push({exportName:a,exportValue:u,isFromDefaultExport:l})});return}i.push({exportName:r,exportValue:o,isFromDefaultExport:l})}),i.forEach(({exportName:r,isFromDefaultExport:o})=>{s(!(o&&ft.includes(r)))}),i}function Bn(){return new Proxy({},{get(...e){return D()||P(!1,"`pageContext.pageExports` is outdated. Use `pageContext.exports` instead, see https://vite-plugin-ssr.com/exports",{onlyOnce:!0,showStackTrace:!0}),Reflect.get(...e)}})}function Nn(e){const t=".page.",n=T(e.split(t),0,-1).join(t);return s(!n.includes("\\")),n}function B(e){ct(e)}function dt(e,t){if(t.length>0){const i=t.filter(r=>r.isErrorPage);return i.length===0?null:(h(i.length===1,"Only one error page can be defined"),i[0].pageId)}const n=Pe(e.map(({pageId:i})=>i).filter(i=>Y(i)));if(h(n.length<=1,`Only one _error.page.js is allowed, but found several: ${n.join(" ")}`),n.length>0){const i=n[0];return s(i),i}return null}function Y(e,t){return s(!e.includes("\\")),e.includes("/_error")}function Wn(e,t){if(t.length>0){const n=t.find(i=>i.pageId===e);return s(n),n.isErrorPage}else return Y(e)}const Hn=[".page",".page.server",".page.route",".page.client",".css"];function Vn(e){if(ct(e),e.endsWith(".css"))return".css";s(ut(e),e);const n=e.split("/").slice(-1)[0].split("."),i=n.slice(-3)[0],r=n.slice(-2)[0];if(r==="page")return".page";if(s(i==="page",e),r==="server")return".page.server";if(r==="client")return".page.client";if(r==="route")return".page.route";s(!1,e)}function gt(e){const t=o=>r.pageId===o||r.isDefaultPageFile&&(Be(r.filePath)||zn(o,r.filePath)),n=Vn(e),r={filePath:e,fileType:n,isEnv:o=>{if(s(n!==".page.route"),o==="CLIENT_ONLY")return n===".page.client"||n===".css";if(o==="SERVER_ONLY")return n===".page.server";if(o==="CLIENT_AND_SERVER")return n===".page";s(!1)},isRelevant:t,isDefaultPageFile:me(e),isRendererPageFile:n!==".css"&&me(e)&&Be(e),isErrorPageFile:Y(e),pageId:Nn(e)};return r}function me(e){return B(e),Y(e)?!1:e.includes("/_default")}function Be(e){return B(e),e.includes("/renderer/")}function zn(e,t){B(e),B(t),s(!e.endsWith("/")),s(!t.endsWith("/")),s(me(t));const n=T(t.split("/"),0,-1).filter(i=>i!=="_default").join("/");return e.startsWith(n)}function Un(e){s(Array.isArray(e)||e===null),s(e!==null),e.forEach(t=>{s(R(t)),s(g(t,"pageId","string")),s(g(t,"routeFilesystem","string")||g(t,"routeFilesystem","null")),s(g(t,"routeFilesystemDefinedBy","string")||g(t,"routeFilesystemDefinedBy","null")),s(g(t,"loadCodeFiles","function")),s(g(t,"isErrorPage","boolean")),s(g(t,"configElements","object")),ht(t.configElements,!1)})}function Gn(e){ht(e,!0)}function ht(e,t){s(R(e)),Object.entries(e).forEach(([n,i])=>{if(s(R(i)||i===null),i===null){s(t);return}s(g(i,"configDefinedAt","string")),s(g(i,"plusConfigFilePath","string")||g(i,"plusConfigFilePath","null")),s(g(i,"configEnv","string")),s(g(i,"codeFilePath","string")||g(i,"codeFilePath","null")),s(g(i,"codeFileExport","string")||g(i,"codeFileExport","null")),s(g(i,"configValueSerialized","string")||g(i,"configValueSerialized","undefined")),(t||n==="route")&&s(g(i,"configValue")||g(i,"configValueSerialized"))})}const Yn=[{is:e=>e===void 0,match:e=>e==="!undefined",serialize:()=>"!undefined",deserialize:()=>{}},{is:e=>e===1/0,match:e=>e==="!Infinity",serialize:()=>"!Infinity",deserialize:()=>1/0},{is:e=>e===-1/0,match:e=>e==="!-Infinity",serialize:()=>"!-Infinity",deserialize:()=>-1/0},{is:e=>typeof e=="number"&&isNaN(e),match:e=>e==="!NaN",serialize:()=>"!NaN",deserialize:()=>NaN},{is:e=>e instanceof Date,match:e=>e.startsWith("!Date:"),serialize:e=>"!Date:"+e.toISOString(),deserialize:e=>new Date(e.slice(6))},{is:e=>typeof e=="bigint",match:e=>e.startsWith("!BigInt:"),serialize:e=>"!BigInt:"+e.toString(),deserialize:e=>{if(typeof BigInt>"u")throw new Error("Your JavaScript environement does not support BigInt. Consider adding a polyfill.");return BigInt(e.slice(8))}},{is:e=>e instanceof RegExp,match:e=>e.startsWith("!RegExp:"),serialize:e=>"!RegExp:"+e.toString(),deserialize:e=>{e=e.slice(8);const t=e.match(/\/(.*)\/(.*)?/),n=t[1],i=t[2];return new RegExp(n,i)}},{is:e=>e instanceof Map,match:e=>e.startsWith("!Map:"),serialize:(e,t)=>"!Map:"+t(Array.from(e.entries())),deserialize:(e,t)=>new Map(t(e.slice(5)))},{is:e=>e instanceof Set,match:e=>e.startsWith("!Set:"),serialize:(e,t)=>"!Set:"+t(Array.from(e.values())),deserialize:(e,t)=>new Set(t(e.slice(5)))},{is:e=>typeof e=="string"&&e.startsWith("!"),match:e=>e.startsWith("!"),serialize:e=>"!"+e,deserialize:e=>e.slice(1)}];function oe(e){const t=JSON.parse(e);return pt(t)}function pt(e){return typeof e=="string"?Mn(e):(typeof e=="object"&&e!==null&&Object.entries(e).forEach(([t,n])=>{e[t]=pt(n)}),e)}function Mn(e){for(const{match:t,deserialize:n}of Yn)if(t(e))return n(e,oe);return e}function Jn(e){e.forEach(t=>{Object.entries(t.configElements).forEach(([n,i])=>{Kn(i),n==="route"&&qn(i)})})}function Kn(e){const{configValueSerialized:t}=e;t!==void 0&&(e.configValue=oe(t))}function qn(e){s(g(e,"configValue"));const{configValue:t}=e,n=typeof t;h(n==="string"||$(t),`${e.configDefinedAt} has an invalid type '${n}': it should be a string or a function instead, see https://vite-plugin-ssr.com/route`)}function Xn(e){s(g(e,"isGeneratedFile")),s(e.isGeneratedFile!==!1,"vite-plugin-ssr was re-installed(/re-built). Restart your app."),s(e.isGeneratedFile===!0,`\`isGeneratedFile === ${e.isGeneratedFile}\``),s(g(e,"pageFilesLazy","object")),s(g(e,"pageFilesEager","object")),s(g(e,"pageFilesExportNamesLazy","object")),s(g(e,"pageFilesExportNamesEager","object")),s(g(e.pageFilesLazy,".page")),s(g(e.pageFilesLazy,".page.client")||g(e.pageFilesLazy,".page.server")),s(g(e,"pageFilesList","string[]")),s(g(e,"pageConfigs")),s(g(e,"pageConfigGlobal"));const{pageConfigs:t,pageConfigGlobal:n}=e;Un(t),Jn(t),Gn(n);const i={};K(e.pageFilesLazy).forEach(({filePath:o,pageFile:l,globValue:a})=>{var u;l=i[o]=(u=i[o])!==null&&u!==void 0?u:l;const c=a;Ne(c),l.loadFile=async()=>{"fileExports"in l||(l.fileExports=await c(),$n(l))}}),K(e.pageFilesExportNamesLazy).forEach(({filePath:o,pageFile:l,globValue:a})=>{var u;l=i[o]=(u=i[o])!==null&&u!==void 0?u:l;const c=a;Ne(c),l.loadExportNames=async()=>{if(!("exportNames"in l)){const f=await c();h("exportNames"in f,"You seem to be using Vite 2 but the latest vite-plugin-ssr versions only work with Vite 3"),s(g(f,"exportNames","string[]"),l.filePath),l.exportNames=f.exportNames}}}),K(e.pageFilesEager).forEach(({filePath:o,pageFile:l,globValue:a})=>{var u;l=i[o]=(u=i[o])!==null&&u!==void 0?u:l;const c=a;s(R(c)),l.fileExports=c}),K(e.pageFilesExportNamesEager).forEach(({filePath:o,pageFile:l,globValue:a})=>{var u;l=i[o]=(u=i[o])!==null&&u!==void 0?u:l;const c=a;s(R(c)),s(g(c,"exportNames","string[]"),l.filePath),l.exportNames=c.exportNames}),e.pageFilesList.forEach(o=>{var l;i[o]=(l=i[o])!==null&&l!==void 0?l:gt(o)});const r=Object.values(i);return r.forEach(({filePath:o})=>{s(!o.includes("\\"))}),{pageFiles:r,pageConfigs:t,pageConfigGlobal:n}}function K(e){const t=[];return Object.entries(e).forEach(([n,i])=>{s(Hn.includes(n)),s(R(i)),Object.entries(i).forEach(([r,o])=>{const l=gt(r);s(l.fileType===n),t.push({filePath:r,pageFile:l,globValue:o})})}),t}function Ne(e){s($(e))}const A=C("setPageFiles.ts",{});function Qn(e){const{pageFiles:t,pageConfigs:n,pageConfigGlobal:i}=Xn(e);A.pageFilesAll=t,A.pageConfigs=n,A.pageConfigGlobal=i}async function Zn(e,t){e?(s(!A.pageFilesGetter),s(t===void 0)):(s(A.pageFilesGetter),s(typeof t=="boolean"),(!A.pageFilesAll||!t)&&await A.pageFilesGetter());const{pageFilesAll:n,pageConfigs:i,pageConfigGlobal:r}=A;s(n&&i&&r);const o=ei(n,i);return{pageFilesAll:n,allPageIds:o,pageConfigs:i,pageConfigGlobal:r}}function ei(e,t){const n=e.filter(({isDefaultPageFile:o})=>!o).map(({pageId:o})=>o),i=Pe(n),r=t.map(o=>o.pageId);return[...i,...r]}function Fe(e,t){return yt(e,t,!0)}function mt(e,t){return yt(e,t,!1)}function yt(e,t,n){const i=n?"CLIENT_ONLY":"SERVER_ONLY",r=e.filter(m=>m.isRelevant(t)&&m.fileType!==".page.route").sort(ti(n,t)),o=m=>{const v=r.filter(b=>b.pageId===t&&b.isEnv(m?"CLIENT_AND_SERVER":i));h(v.length<=1,`Merge the following files into a single file: ${v.map(b=>b.filePath).join(" ")}`);const O=v[0];return s(O===void 0||!O.isDefaultPageFile),O},l=o(!1),a=o(!0),u=m=>r.filter(v=>v.isRendererPageFile&&v.isEnv(m?"CLIENT_AND_SERVER":i))[0],c=u(!1),f=u(!0),d=r.filter(m=>m.isDefaultPageFile&&!m.isRendererPageFile&&(m.isEnv(i)||m.isEnv("CLIENT_AND_SERVER")));return[l,a,...d,c,f].filter(Sn)}function ti(e,t){const n=e?"CLIENT_ONLY":"SERVER_ONLY",i=-1,r=1,o=0;return(l,a)=>{if(!l.isDefaultPageFile&&a.isDefaultPageFile)return i;if(!a.isDefaultPageFile&&l.isDefaultPageFile)return r;{const u=l.isRendererPageFile,c=a.isRendererPageFile;if(!u&&c)return i;if(!c&&u)return r;s(u===c)}{const u=We(t,l.filePath),c=We(t,a.filePath);if(u<c)return i;if(c<u)return r;s(u===c)}{if(l.isEnv(n)&&a.isEnv("CLIENT_AND_SERVER"))return i;if(a.isEnv(n)&&l.isEnv("CLIENT_AND_SERVER"))return r}return o}}function We(e,t){B(e),B(t);let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);const i=e.slice(n),r=t.slice(n),o=i.split("/").length,l=r.split("/").length;return o+l}const ni="modulepreload",ii=function(e){return"/"+e},He={},Ve=function(t,n,i){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=ii(o),o in He)return;He[o]=!0;const l=o.endsWith(".css"),a=l?'[rel="stylesheet"]':"";if(!!i)for(let f=r.length-1;f>=0;f--){const d=r[f];if(d.href===o&&(!l||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":ni,l||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),l)return new Promise((f,d)=>{c.addEventListener("load",f),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},Oe={},vt={},ri={},se={},oi=[],_t={},si=!0,li=[{pageId:"/pages/_error",isErrorPage:!0,routeFilesystem:null,routeFilesystemDefinedBy:null,loadCodeFiles:async()=>(await Ve(()=>import("./pages_error.436abeca.js"),["assets/entries/pages_error.436abeca.js","assets/chunks/chunk-fe130384.js","assets/static/LayoutDefault.83e12484.css"])).default,configElements:{onRenderHtml:{configDefinedAt:"vike-solid/renderer/onRenderHtml > `export default`",configDefinedByFile:"vike-solid/renderer/onRenderHtml",codeFilePath:"vike-solid/renderer/onRenderHtml",codeFileExport:"default",plusConfigFilePath:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",configEnv:"server-only"},onRenderClient:{configDefinedAt:"vike-solid/renderer/onRenderClient > `export default`",configDefinedByFile:"vike-solid/renderer/onRenderClient",codeFilePath:"vike-solid/renderer/onRenderClient",codeFileExport:"default",plusConfigFilePath:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",configEnv:"client-only"},Page:{configDefinedAt:"/pages/_error/+Page.tsx > `export default`",configDefinedByFile:"/pages/_error/+Page.tsx",codeFilePath:"/pages/_error/+Page.tsx",codeFileExport:"default",plusConfigFilePath:null,configEnv:"server-and-client"},passToClient:{configDefinedAt:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js > `export default { passToClient }",configDefinedByFile:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",configEnv:"server-only",configValueSerialized:'["pageProps","title"]'},clientRouting:{configDefinedAt:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js > `export default { clientRouting }",configDefinedByFile:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",configEnv:"server-and-client",configValueSerialized:"true"},hydrationCanBeAborted:{configDefinedAt:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js > `export default { hydrationCanBeAborted }",configDefinedByFile:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",configEnv:"client-only",configValueSerialized:"true"},Head:{configDefinedAt:"/layouts/Head.tsx > `export default`",configDefinedByFile:"/layouts/Head.tsx",codeFilePath:"/layouts/Head.tsx",codeFileExport:"default",plusConfigFilePath:"/pages/+config.h.ts",configEnv:"server-only"},Layout:{configDefinedAt:"/layouts/LayoutDefault.tsx > `export default`",configDefinedByFile:"/layouts/LayoutDefault.tsx",codeFilePath:"/layouts/LayoutDefault.tsx",codeFileExport:"default",plusConfigFilePath:"/pages/+config.h.ts",configEnv:"server-and-client"},title:{configDefinedAt:"/pages/+config.h.ts > `export default { title }",configDefinedByFile:"/pages/+config.h.ts",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"/pages/+config.h.ts",configEnv:"server-and-client",configValueSerialized:'"Bati"'},description:{configDefinedAt:"/pages/+config.h.ts > `export default { description }",configDefinedByFile:"/pages/+config.h.ts",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"/pages/+config.h.ts",configEnv:"server-only",configValueSerialized:'"Bati"'},isClientSideRenderable:{configDefinedAt:"TODO",configDefinedByFile:"TODO",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"TODO",configEnv:"server-and-client",configValueSerialized:"true"},onBeforeRenderEnv:{configDefinedAt:"TODO",configDefinedByFile:"TODO",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"TODO",configEnv:"client-only",configValueSerialized:"null"}}},{pageId:"/pages/index",isErrorPage:!1,routeFilesystem:"/",routeFilesystemDefinedBy:"/pages/index/",loadCodeFiles:async()=>(await Ve(()=>import("./pages_index.c6148168.js"),["assets/entries/pages_index.c6148168.js","assets/chunks/chunk-fe130384.js","assets/static/LayoutDefault.83e12484.css"])).default,configElements:{onRenderHtml:{configDefinedAt:"vike-solid/renderer/onRenderHtml > `export default`",configDefinedByFile:"vike-solid/renderer/onRenderHtml",codeFilePath:"vike-solid/renderer/onRenderHtml",codeFileExport:"default",plusConfigFilePath:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",configEnv:"server-only"},onRenderClient:{configDefinedAt:"vike-solid/renderer/onRenderClient > `export default`",configDefinedByFile:"vike-solid/renderer/onRenderClient",codeFilePath:"vike-solid/renderer/onRenderClient",codeFileExport:"default",plusConfigFilePath:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",configEnv:"client-only"},Page:{configDefinedAt:"/pages/index/+Page.tsx > `export default`",configDefinedByFile:"/pages/index/+Page.tsx",codeFilePath:"/pages/index/+Page.tsx",codeFileExport:"default",plusConfigFilePath:null,configEnv:"server-and-client"},passToClient:{configDefinedAt:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js > `export default { passToClient }",configDefinedByFile:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",configEnv:"server-only",configValueSerialized:'["pageProps","title"]'},clientRouting:{configDefinedAt:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js > `export default { clientRouting }",configDefinedByFile:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",configEnv:"server-and-client",configValueSerialized:"true"},hydrationCanBeAborted:{configDefinedAt:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js > `export default { hydrationCanBeAborted }",configDefinedByFile:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"/node_modules/.pnpm/vike-solid@0.1.0_solid-js@1.7.10/node_modules/vike-solid/dist/+config.js",configEnv:"client-only",configValueSerialized:"true"},Head:{configDefinedAt:"/layouts/Head.tsx > `export default`",configDefinedByFile:"/layouts/Head.tsx",codeFilePath:"/layouts/Head.tsx",codeFileExport:"default",plusConfigFilePath:"/pages/+config.h.ts",configEnv:"server-only"},Layout:{configDefinedAt:"/layouts/LayoutDefault.tsx > `export default`",configDefinedByFile:"/layouts/LayoutDefault.tsx",codeFilePath:"/layouts/LayoutDefault.tsx",codeFileExport:"default",plusConfigFilePath:"/pages/+config.h.ts",configEnv:"server-and-client"},title:{configDefinedAt:"/pages/+config.h.ts > `export default { title }",configDefinedByFile:"/pages/+config.h.ts",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"/pages/+config.h.ts",configEnv:"server-and-client",configValueSerialized:'"Bati"'},description:{configDefinedAt:"/pages/+config.h.ts > `export default { description }",configDefinedByFile:"/pages/+config.h.ts",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"/pages/+config.h.ts",configEnv:"server-only",configValueSerialized:'"Bati"'},isClientSideRenderable:{configDefinedAt:"TODO",configDefinedByFile:"TODO",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"TODO",configEnv:"server-and-client",configValueSerialized:"true"},onBeforeRenderEnv:{configDefinedAt:"TODO",configDefinedByFile:"TODO",codeFilePath:null,codeFileExport:null,plusConfigFilePath:"TODO",configEnv:"client-only",configValueSerialized:"null"}}}],ai={onBeforeRoute:null},ui=Object.assign({}),ci={...ui};Oe[".page"]=ci;const fi=Object.assign({}),di={...fi};se[".page"]=di;const gi=Object.assign({}),hi={...gi};se[".page.server"]=hi;const pi=Object.assign({}),mi={...pi};vt[".page.route"]=mi;const yi=Object.assign({}),vi={...yi};Oe[".page.client"]=vi;const _i=Object.assign({}),bi={..._i};se[".page.client"]=bi;const Pi=Object.assign({}),Ri={...Pi};_t[".page.server"]=Ri;const wi=Object.freeze(Object.defineProperty({__proto__:null,isGeneratedFile:si,neverLoaded:_t,pageConfigGlobal:ai,pageConfigs:li,pageFilesEager:vt,pageFilesExportNamesEager:se,pageFilesExportNamesLazy:ri,pageFilesLazy:Oe,pageFilesList:oi},Symbol.toStringTag,{value:"Module"}));Qn(wi);function ze(e){const t=e/1e3;if(t<120){const n=Ue(t);return`${n} second${Ge(n)}`}{const n=t/60,i=Ue(n);return`${i} minute${Ge(i)}`}}function Ue(e){let t=e.toFixed(1);return t.endsWith(".0")&&(t=t.slice(0,-2)),t}function Ge(e){return e==="1"?"":"s"}const Ei=C("utils/executeHook.ts",{userHookErrors:new Map});function le(e,t,n){const{timeoutErr:i,timeoutWarn:r}=Si(t);let o,l;const a=new Promise((d,p)=>{o=m=>{u(),d(m)},l=m=>{u(),p(m)}}),u=()=>{clearTimeout(c),clearTimeout(f)},c=setTimeout(()=>{P(!1,`The ${t}() hook defined by ${n} is taking more than ${ze(r)}`,{onlyOnce:!1})},r),f=setTimeout(()=>{const d=ot(`Hook timeout: the ${t}() hook defined by ${n} didn't finish after ${ze(i)}`);l(d)},i);return(async()=>{try{const d=await e();o(d)}catch(d){R(d)&&Ei.userHookErrors.set(d,{hookName:t,hookFilePath:n}),l(d)}})(),a}function Si(e){return e==="onBeforeRoute"?{timeoutErr:5*1e3,timeoutWarn:1*1e3}:e==="onBeforePrerender"?{timeoutErr:10*60*1e3,timeoutWarn:30*1e3}:{timeoutErr:40*1e3,timeoutWarn:4*1e3}}function M(e){const t=window.location.href,{searchOriginal:n,hashOriginal:i,pathname:r}=G(t,"/");let o;return e!=null&&e.withoutHash?o=`${r}${n||""}`:o=`${r}${n||""}${i||""}`,s(o.startsWith("/")),o}s(D());function Fi(){var e,t,n,i;const r=!!(!((t=(e=window.__REACT_DEVTOOLS_GLOBAL_HOOK__)===null||e===void 0?void 0:e.renderers)===null||t===void 0)&&t.size),o=!!(!((i=(n=window.__REACT_DEVTOOLS_GLOBAL_HOOK__)===null||n===void 0?void 0:n.rendererInterfaces)===null||i===void 0)&&i.size),l=!!window.__vite_plugin_react_preamble_installed__;return r||o||l}function bt(e,t){const n=Object.keys,i=typeof e;return e&&t&&i==="object"&&i===typeof t?n(e).length===n(t).length&&n(e).every(o=>bt(e[o],t[o])):e===t}function Oi(e,t){return R(e)&&R(t)&&e.constructor===t.constructor&&bt({...e,stack:null},{...t,stack:null})&&t.message===t.message}function Z(e){window.location.href=e}function Ci(e){return new Promise(t=>setTimeout(t,e))}function ki(e,t){let n=!1;return()=>{n||(n=!0,setTimeout(()=>{n=!1,e()},t))}}s(D());N();const Ye=C("navigationState.ts",{}),xi=M(),Pt={markNavigationChange(){Ye.navigationChanged=!0},get noNavigationChangeYet(){return!Ye.navigationChanged&&this.isFirstUrl(M())},isFirstUrl(e){return e===xi}};function Ti(){const e="vite-plugin-ssr_pageContext",t=document.getElementById(e);h(t,`The element #${e} (which vite-plugin-ssr automatically injects into the HTML) is missing from the DOM. This may happen if your HTML is malformed. Make sure your HTML isn't malformed, and make sure you don't remove #${e} from the HTML nor from the DOM.`);const n=t.textContent;s(n);const i=oe(n);return s(g(i,"_pageId","string")),y(i,{_hasPageContextFromServer:!0}),i}async function Ai(e,t){const i=mt(e,t).filter(o=>o.fileType===".page.server");return await Promise.all(i.map(async o=>{o.exportNames||(s(o.loadExportNames,t),await o.loadExportNames())})),{hasOnBeforeRenderServerSideOnlyHook:i.some(({exportNames:o})=>(s(o),o.includes("onBeforeRender")))}}function ji(e,t){if(!j(e))return!1;for(const n of Object.keys(e))if(!t.includes(n))return!1;return!0}function $i(e){return typeof e=="object"&&e!==null&&Object.values(e).every(t=>typeof t=="string")}D()&&N();function Rt(e,t=!0){s(e.urlOriginal),"urlPathname"in e&&s(ae(e,"urlPathname")),Object.defineProperty(e,"urlPathname",{get:Et,enumerable:t,configurable:!0}),"url"in e&&s(ae(e,"url")),Object.defineProperty(e,"url",{get:Ii,enumerable:!1,configurable:!0}),"urlParsed"in e&&s(ae(e,"urlParsed")),Object.defineProperty(e,"urlParsed",{get:Li,enumerable:t,configurable:!0})}function wt(e){var t;let n=e._urlHandler;n||(n=l=>l);const i=(t=e._urlRewrite)!==null&&t!==void 0?t:e.urlOriginal;s(i&&typeof i=="string");const r=n(i),o=e._baseServer;return s(o.startsWith("/")),G(r,o)}function Et(){const{pathname:e}=wt(this),t=e;return s(t.startsWith("/")),t}function Ii(){return P(!1,"`pageContext.url` is outdated. Use `pageContext.urlPathname`, `pageContext.urlParsed`, or `pageContext.urlOriginal` instead. (See https://vite-plugin-ssr.com/migration/0.4.23 for more information.)",{onlyOnce:!0,showStackTrace:!0}),Et.call(this)}function Li(){const e=wt(this),{origin:t,pathname:n,pathnameOriginal:i,search:r,searchAll:o,searchOriginal:l,hash:a,hashOriginal:u}=e,c=d=>{P(D(),`pageContext.urlParsed.${d} isn't available on the server-side (HTTP requests don't include the URL hash by design)`,{onlyOnce:!0,showStackTrace:!0})},f={origin:t,pathname:n,pathnameOriginal:i,search:r,searchAll:o,searchOriginal:l,get hash(){return c("hash"),a},get hashOriginal(){return c("hashOriginal"),u},get hashString(){return P(!1,"pageContext.urlParsed.hashString has been renamed to pageContext.urlParsed.hashOriginal",{onlyOnce:!0,showStackTrace:!0}),c("hashString"),u},get searchString(){return P(!1,"pageContext.urlParsed.searchString has been renamed to pageContext.urlParsed.searchOriginal",{onlyOnce:!0,showStackTrace:!0}),l}};return Me(f,"hashString"),Me(f,"searchString"),f}function Me(e,t){const n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(e,t,{...n,enumerable:!1})}function Di(e){s(typeof e.urlOriginal=="string"),s(typeof e.urlPathname=="string"),s(j(e.urlParsed)),s(e.urlPathname===e.urlParsed.pathname)}const St="@",ye=":";function Bi(e,t){h(e.startsWith("/")||e==="*",(()=>{t?t=t+" invalid":t="Invalid";const n=[`'${e}'`,e!==""?null:"(empty string)"].filter(Boolean).join(" ");return`${t} Route String ${n}: Route Strings should start with a leading slash '/' (or be '*')`})())}function ve(e,t){Bi(e),s(t.startsWith("/"));const n=e.split("/"),i=t.split("/"),r={};Ni(e),e==="*"&&(e="/*");for(let o=0;o<Math.max(n.length,i.length);o++){const l=n[o],a=i[o];if(l==="*")return r["*"]=i.slice(Math.max(1,o)).join("/"),{routeParams:r};if(l&&Q(l)){if(P(!l.startsWith(ye),`Outdated Route String \`${e}\`, use \`${e.split(ye).join(St)}\` instead.`,{onlyOnce:!0}),!a)return null;r[l.slice(1)]=a}else if((l||"")!==(a||""))return null}return{routeParams:r}}function Ni(e){const t=e.split("*").length-1;h(t<=1,`Invalid Route String '${e}': Route Strings are not allowed to contain more than one glob character '*'`),h(t===0||t===1&&e.endsWith("*"),`Invalid Route String '${e}': make sure your Route String ends with the glob character '*'`)}function W(e){const t=e.split("/").filter(l=>l!==""&&l!=="*");let n=0;for(const l of t){if(Q(l))break;n++}const i=t.filter(l=>!Q(l)).length,r=t.filter(l=>Q(l)).length,o=e.endsWith("*");return{numberOfParameterSegments:r,numberOfStaticSegmentsBeginning:n,numberOfStaticSegements:i,isCatchAll:o}}function Q(e){return e.startsWith(St)||e.startsWith(ye)}function Je(e){const n=ve(e,e);return s(n),Object.keys(n.routeParams).length===0}function Wi(e){e.sort(Hi).sort(I(t=>t.routeType==="FUNCTION"&&!!t.precedence&&t.precedence<0)).sort(I(t=>t.routeType==="STRING"&&Je(t.routeString)===!1)).sort(I(t=>t.routeType==="FUNCTION"&&!t.precedence)).sort(I(t=>t.routeType==="STRING"&&Je(t.routeString)===!0)).sort(I(t=>t.routeType==="FILESYSTEM")).sort(I(t=>t.routeType==="FUNCTION"&&!!t.precedence&&t.precedence>0))}function Hi(e,t){var n,i;{const r=(n=e.precedence)!==null&&n!==void 0?n:0,o=(i=t.precedence)!==null&&i!==void 0?i:0;if(r!==o)return r>o?-1:1}if(!t.routeString||!e.routeString)return 0;{const o=X(l=>W(l).numberOfStaticSegmentsBeginning)(e.routeString,t.routeString);if(o!==0)return o}{const o=X(l=>W(l).numberOfStaticSegements)(e.routeString,t.routeString);if(o!==0)return o}{const o=X(l=>W(l).numberOfParameterSegments)(e.routeString,t.routeString);if(o!==0)return o}{if(W(t.routeString).isCatchAll)return-1;if(W(e.routeString).isCatchAll)return 1}return 0}async function Vi(e,t,n){Di(t);let i=e(t);if(Ft(i,`The Route Function ${n}`),i=await i,i===!1)return null;if(i===!0&&(i={}),h(j(i),`The Route Function ${n} should return a boolean or a plain JavaScript object, instead it returns \`${g(i,"constructor")?i.constructor:i}\`.`),"match"in i){const{match:l}=i;if(h(typeof l=="boolean",`The \`match\` value returned by the Route Function ${n} should be a boolean.`),!l)return null}let r=null;"precedence"in i&&(r=i.precedence,h(typeof r=="number",`The \`precedence\` value returned by the Route Function ${n} should be a number.`)),Ot(i,`The \`routeParams\` object returned by the Route Function ${n} should`);const o=i.routeParams||{};return h(!("pageContext"in i),"Providing `pageContext` in Route Functions is prohibited, see https://vite-plugin-ssr.com/route-function#cannot-provide-pagecontext"),s(j(o)),Object.keys(i).forEach(l=>{h(l==="match"||l==="routeParams"||l==="precedence",`The Route Function ${n} returned an object with an unknown key \`{ ${l} }\`. Allowed keys: ['match', 'routeParams', 'precedence'].`)}),{precedence:r,routeParams:o}}function Ft(e,t){P(!On(e),`${t} returned a promise, but asynchronous routing is deprecated and will be removed in the next major release, see https://vite-plugin-ssr.com/route-function#async`,{onlyOnce:!0})}function Ot(e,t){s(t.endsWith(" should")),g(e,"routeParams")&&(s(t.endsWith(" should")),h(j(e.routeParams),`${t} be a plain JavaScript object.`),h($i(e.routeParams),`${t} only hold string values.`))}function Ct(e,{hookName:t,hookFilePath:n}){if(e==null)return;s(!t.endsWith(")"));const i=`The \`pageContext\` object provided by the ${t}() hook defined by ${n}`;h(R(e),`${i} should be an object instead of \`${typeof e}\``),h(!("_objectCreatedByVitePluginSsr"in e),`${i} shouldn't be the whole \`pageContext\` object, see https://vite-plugin-ssr.com/pageContext-manipulation#do-not-return-entire-pagecontext`),P(!("_pageId"in e),`${i} sets \`pageContext._pageId\` which means that vite-plugin-ssr's routing is overriden. This is an experimental feature: make sure to contact a vite-plugin-ssr maintainer before using this.`,{onlyOnce:!0}),h(!("is404"in e),`${i} sets \`pageContext.is404\` which is forbidden, use \`throw render()\` instead, see https://vite-plugin-ssr.com/render`)}async function zi(e,t){let n=e.onBeforeRoute(t);Ft(n,`The onBeforeRoute() hook ${e.hookFilePath}`),n=await n;const i=`The onBeforeRoute() hook defined by ${e.hookFilePath}`;if(h(n==null||ji(n,["pageContext"])&&g(n,"pageContext"),`${i} should return \`null\`, \`undefined\`, or a plain JavaScript object \`{ pageContext: { /* ... */ } }\`.`),n==null)return null;if(h(g(n,"pageContext","object"),`${i} returned \`{ pageContext }\` but pageContext should be a plain JavaScript object.`),g(n.pageContext,"_pageId")&&!g(n.pageContext,"_pageId","null")){const o=`${i} returned \`{ pageContext: { _pageId } }\` but _pageId should be`;h(g(n.pageContext,"_pageId","string"),`${o} a string or null`),h(t._allPageIds.includes(n.pageContext._pageId),`${o} one of following values: \`[${t._allPageIds.map(l=>`'${l}'`).join(", ")}]\`.`)}g(n.pageContext,"routeParams")&&Ot(n.pageContext,`${i} returned \`{ pageContext: { routeParams } }\` but routeParams should`);const r={};return g(n.pageContext,"url")&&(P(!1,`${i} returned \`{ pageContext: { url } }\` but \`pageContext.url\` has been renamed to \`pageContext.urlOriginal\`. Return \`{ pageContext: { urlOriginal } }\` instead. (See https://vite-plugin-ssr.com/migration/0.4.23 for more information.)`,{onlyOnce:!0}),n.pageContext.urlOriginal=n.pageContext.url,delete n.pageContext.url),g(n.pageContext,"urlOriginal")&&(vn(n.pageContext.urlOriginal,`${i} returned \`{ pageContext: { urlOriginal } }\` but urlOriginal`),y(r,{_urlOriginalPristine:t.urlOriginal})),Ct(n.pageContext,{hookFilePath:e.hookFilePath,hookName:"onBeforeRoute"}),y(r,n.pageContext),r}var q;function Ke(...e){var t,n;q||(q=(n=(t=globalThis).__brillout_debug_createDebugger)===null||n===void 0?void 0:n.call(t,"vps:routing")),q&&q(...e)}D()&&N();async function kt(e){Rt(e),Ke("Pages routes:",e._pageRoutes);const t={};if(e._onBeforeRouteHook){const l=await zi(e._onBeforeRouteHook,e);if(l){if(y(t,l),g(t,"_pageId","string")||g(t,"_pageId","null"))return g(t,"routeParams")?s(g(t,"routeParams","object")):y(t,{routeParams:{}}),y(t,{_routingProvidedByOnBeforeRouteHook:!0,_routeMatches:"CUSTOM_ROUTE"}),{pageContextAddendum:t};y(e,t)}}y(t,{_routingProvidedByOnBeforeRouteHook:!1});const n=e._allPageIds;s(n.length>=0),h(e._pageFilesAll.length>0||e._pageConfigs.length>0,"No *.page.js file found. You must create at least one *.page.js file."),h(n.length>0,"You must create at least one *.page.js file that isn't _default.page.*");const{urlPathname:i}=e;s(i.startsWith("/"));const r=[];await Promise.all(e._pageRoutes.map(async l=>{const{pageId:a,routeType:u}=l;if(l.routeType==="FILESYSTEM"){const{routeString:c}=l,f=ve(c,i);if(f){const{routeParams:d}=f;r.push({pageId:a,routeParams:d,routeString:c,routeType:u})}return}if(l.routeType==="STRING"){const{routeString:c}=l,f=ve(c,i);if(f){const{routeParams:d}=f;s(u==="STRING"),r.push({pageId:a,routeString:c,routeParams:d,routeType:u})}return}if(l.routeType==="FUNCTION"){const{routeFunction:c,routeDefinedAt:f}=l,d=await Vi(c,e,f);if(d){const{routeParams:p,precedence:m}=d;r.push({pageId:a,precedence:m,routeParams:p,routeType:u})}return}s(!1)})),Wi(r);const o=r[0];if(Ke(`Route matches for URL \`${i}\` (in precedence order):`,r),y(t,{_routeMatches:r}),!o)return y(t,{_pageId:null,routeParams:{}}),{pageContextAddendum:t};{const{routeParams:l}=o;s(j(l)),y(t,{_pageId:o.pageId,routeParams:o.routeParams})}return{pageContextAddendum:t}}function V(e,t){if(!(t in e.exports))return null;const n=e.exports[t],i=e.exportsAll[t][0];s(i.exportValue===n);const r=i.exportSource;return s(r),s(!t.endsWith(")")),h($(n),`hook ${t}() defined by ${r} should be a function`),{hookFn:n,hookFilePath:r}}function ue(e,t){V(e,t)}function Ui(e){const t=Object.entries(e);for(const n in e)delete e[n];t.sort(([n],[i])=>En(n,i)).forEach(([n,i])=>{e[n]=i})}function Gi(e){Yi(e),Mi(e)}function Yi(e){Wn(e._pageId,e._pageConfigs)&&s(g(e,"is404","boolean"))}function Mi(e){if(e.is404===void 0||e.is404===null)return;const t=e.pageProps||{};if(!R(t)){P(!1,"pageContext.pageProps should be an object",{showStackTrace:!0,onlyOnce:!0});return}t.is404=t.is404||e.is404,e.pageProps=t}const Ji="not-serializable",ee=C("getPageContextProxyForUser.ts",{});function Ki(e){return s([!0,!1].includes(e._hasPageContextFromServer)),s([!0,!1].includes(e._hasPageContextFromClient)),new Proxy(e,{get(t,n){const i=e[n],r=JSON.stringify(n);return h(i!==Ji,`pageContext[${r}] couldn't be serialized and, therefore, is missing on the client-side. Check the server logs for more information.`),qi(e,n,`pageContext[${r}] isn't available on the client-side because ${r} is missing in passToClient, see https://vite-plugin-ssr.com/passToClient`),i}})}function qi(e,t,n){ee.prev===t||ee.prev==="__v_raw"||(Zi(t),!(t in e)&&(Qi(t)||e._hasPageContextFromServer&&!e._hasPageContextFromClient&&h(!1,n)))}const Xi=["then","toJSON"];function Qi(e){return!!(Xi.includes(e)||typeof e=="symbol"||typeof e!="string"||e.startsWith("__v_"))}function Zi(e){ee.prev=e,window.setTimeout(()=>{ee.prev=void 0},0)}function Ce(e,t){if(t){const r=e;s([!0,!1].includes(r.isHydration)),s([!0,!1,null].includes(r.isBackwardNavigation))}else{const r=e;s(r.isHydration===!0),s(r.isBackwardNavigation===null)}s("config"in e),s("configEntries"in e),s("exports"in e),s("exportsAll"in e),s("pageExports"in e),s(R(e.pageExports));const n=e.exports.Page;y(e,{Page:n}),er(e),Ui(e);const i=Ki(e);return Gi(e),i}function er(e){Object.entries(e).forEach(([t,n])=>{delete e[t],e[t]=n})}function xt(e,t){var n;const i=e.filter(o=>o.pageId===t);return s(i.length<=1),(n=i[0])!==null&&n!==void 0?n:null}async function tr(e,t){const n={};return!t&&"configValues"in e||((await e.loadCodeFiles()).forEach(r=>{const{configName:o,codeFilePath:l}=r;let a;if(r.isPlusFile){const{codeFileExports:u}=r;o!=="client"&&xn(u,l),Object.entries(u).forEach(([c,f])=>{const d=c!=="default",p=d?c:r.configName,m=f;if(n[p]=m,d){const v=e.configElements[r.configName];s(v),e.configElements[p]={configValue:m,codeFileExport:c,codeFilePath:l,configDefinedByFile:l,configDefinedAt:`${l} > export { ${c} }`,configEnv:v.configEnv,plusConfigFilePath:null}}})}else a=r.codeFileExportValue,n[o]=a}),Object.entries(e.configElements).map(([r,o])=>{o.codeFilePath||(n[r]=o.configValue)}),y(e,{configValues:n})),e}const Tt="__whileFetchingAssets";async function te(e,t,n){const i=Fe(e,n),r=xt(t,n);let o;try{o=(await Promise.all([r&&tr(r,!1),...i.map(m=>{var v;return(v=m.loadFile)===null||v===void 0?void 0:v.call(m)})]))[0]}catch(p){throw nr(p)&&Object.assign(p,{[Tt]:!0}),p}const{config:l,configEntries:a,exports:u,exportsAll:c,pageExports:f}=Ln(i,o);return{config:l,configEntries:a,exports:u,exportsAll:c,pageExports:f,_pageFilesLoaded:i}}function ke(e){return e?e[Tt]===!0:!1}function nr(e){return e instanceof Error?["Failed to fetch dynamically imported module","error loading dynamically imported module","Importing a module script failed","error resolving module specifier","failed to resolve module"].some(n=>e.message.toLowerCase().includes(n.toLowerCase())):!1}const qe=["urlPathname","urlParsed"],ir=["Page","pageExports","exports"];function At(e){[...ir,...qe].forEach(n=>{n in e&&(qe.includes(n)?(s(n.startsWith("url")),P(!1,`\`pageContext.${n}\` is already available in the browser when using Client Routing; including \`${n}\` in \`passToClient\` has no effect.`,{onlyOnce:!0})):P(!1,`\`pageContext.${n}\` is a built-in that cannot be overriden; including \`${n}\` in \`passToClient\` has no effect.`,{onlyOnce:!0}),delete e[n])})}const rr="/";function or(e,t,n){const{pathnameOriginal:i,searchOriginal:r,hashOriginal:o}=G(e,rr);e.startsWith("/")&&s(e===`${i}${r||""}${o||""}`,{url:e});const l=i.endsWith("/");let a;return n&&i!=="/"?(l?a=T(i,0,-1):a=i,s(!a.endsWith("/"),{url:e}),s(a!=="")):a=i+(l?"":"/")+"index",s(a),a=a+t,`${a}${r||""}${o||""}`}const sr=".pageContext.json",lr=!1;function ar(e){return or(e,sr,lr)}function ne(e,t,n){const i=e.configElements[t];if(!i||ur(e,t))return null;const{configValue:r,configDefinedAt:o}=i;return n&&h(typeof r===n,`${o} has an invalid type \`${typeof r}\`: is should be a ${n} instead`),r}function ur(e,t){const n=e.configElements[t];if(!n)return!0;const{codeFilePath:i,configValue:r}=n;return i?!1:r==null}function jt(e,t){const n=t.find(i=>i.pageId===e);return s(t.length>0),s(n),n}function cr(e,t,n){s(!n.endsWith(" "));const i=[],r=Object.keys(e);for(const o of r)t.includes(o)||i.push(o);h(i.length===0,[n,"returned an object with following unknown keys:",De(i)+".","Only following keys are allowed:",De(t)+"."].join(" "))}function fr(e,t){if(e==null)return;const n=`The onBeforeRender() hook defined by ${t}`;h(j(e),`${n} should return a plain JavaScript object or \`undefined\`/\`null\``),cr(e,["pageContext"],n),e.pageContext&&Ct(e.pageContext,{hookName:"onBeforeRender",hookFilePath:t})}function dr(e,t){const i=t.filter(({filesystemRoot:o})=>e.startsWith(o)).sort(X(({filesystemRoot:o})=>o.length))[0];let r;if(i){const{filesystemRoot:o,urlRoot:l}=i,a={pageId:e,filesystemRoot:o,urlRoot:l};s(l.startsWith("/")&&e.startsWith("/")&&o.startsWith("/"),a),s(e.startsWith(o),a),o!=="/"?(s(!o.endsWith("/"),a),r=T(e,o.length,0)):r=e,s(r.startsWith("/"),a),r=l+(l.endsWith("/")?"":"/")+T(r,1,0)}else r=e;return s(r.startsWith("/")),r=r.split("/").filter(o=>o!=="pages"&&o!=="src"&&o!=="index").join("/"),s(!r.includes(".page.")),s(!r.endsWith(".")),r.endsWith("/index")&&(r=T(r,0,-6)),r===""&&(r="/"),s(r.startsWith("/")),s(!r.endsWith("/")||r==="/"),r}async function gr(e,t,n,i){await Promise.all(e.filter(a=>a.fileType===".page.route").map(a=>{var u;return(u=a.loadFile)===null||u===void 0?void 0:u.call(a)}));const{onBeforeRouteHook:r,filesystemRoots:o}=pr(e,t,n);return{pageRoutes:hr(o,e,t,i),onBeforeRouteHook:r}}function hr(e,t,n,i){const r=[];let o=[...i];if(n.length>0){s(e===null);const l=!0;n.filter(a=>!a.isErrorPage).forEach(a=>{const u=a.pageId;o=vr(o,u);let c=null;{const f=a.configElements.route;if(f){s("configValue"in f);const d=f.configValue,p=f.configDefinedAt;if(s(p),typeof d=="string")c={pageId:u,comesFromV1PageConfig:l,routeString:d,routeDefinedAt:p,routeType:"STRING"};else{s($(d));{const m=a.configElements.iKnowThePerformanceRisksOfAsyncRouteFunctions;if(m){const v=m.configValue;s(typeof v=="boolean",`${m.configDefinedAt} should be a boolean`)}}c={pageId:u,comesFromV1PageConfig:l,routeFunction:d,routeDefinedAt:p,routeType:"FUNCTION"}}}}if(!c){const{routeFilesystem:f,routeFilesystemDefinedBy:d}=a;s(f),s(f.startsWith("/")),s(d),c={pageId:u,routeFilesystemDefinedBy:d,comesFromV1PageConfig:l,routeString:f,routeDefinedAt:null,routeType:"FILESYSTEM"}}s(c),r.push(c)})}if(n.length===0){s(e);const l=!1;o.filter(a=>!Y(a)).forEach(a=>{const u=$t(a,t);if(!u||!("default"in u.fileExports)){const c=dr(a,e);s(c.startsWith("/")),s(!c.endsWith("/")||c==="/"),r.push({pageId:a,comesFromV1PageConfig:l,routeString:c,routeDefinedAt:null,routeFilesystemDefinedBy:`${a}.page.*`,routeType:"FILESYSTEM"})}else{const{filePath:c,fileExports:f}=u;if(s(f.default),g(f,"default","string")){const d=f.default;h(d.startsWith("/"),`A Route String should start with a leading slash '/' but ${c} has \`export default '${d}'\`. Make sure to \`export default '/${d}'\` instead.`),r.push({pageId:a,comesFromV1PageConfig:l,routeString:d,routeDefinedAt:c,routeType:"STRING"});return}if(g(f,"default","function")){const d=f.default;{const p="iKnowThePerformanceRisksOfAsyncRouteFunctions";p in f&&h(g(f,p,"boolean"),`The export \`${p}\` of ${c} should be a boolean.`)}r.push({pageId:a,comesFromV1PageConfig:l,routeFunction:d,routeDefinedAt:c,routeType:"FUNCTION"});return}h(!1,`The default export of ${c} should be a string or a function.`)}})}return r}function pr(e,t,n){if(t.length>0){if(n.onBeforeRoute){const o=n.onBeforeRoute.configValue;if(o){const l=n.onBeforeRoute.codeFilePath;return s(l),h($(o),`The hook onBeforeRoute() defined by ${l} should be a function.`),{onBeforeRouteHook:{hookFilePath:l,onBeforeRoute:o},filesystemRoots:null}}}return{onBeforeRouteHook:null,filesystemRoots:null}}let i=null;const r=[];return e.filter(o=>o.fileType===".page.route"&&o.isDefaultPageFile).forEach(({filePath:o,fileExports:l})=>{if(s(l),"onBeforeRoute"in l){h(g(l,"onBeforeRoute","function"),`\`export { onBeforeRoute }\` of ${o} should be a function.`);const{onBeforeRoute:a}=l;i={hookFilePath:`${o} > \`export { onBeforeRoute }\``,onBeforeRoute:a}}"filesystemRoutingRoot"in l&&(h(g(l,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${o} should be a string.`),h(g(l,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${o} is \`'${l.filesystemRoutingRoot}'\` but it should start with a leading slash \`/\`.`),r.push({filesystemRoot:yr(o),urlRoot:l.filesystemRoutingRoot}))}),{onBeforeRouteHook:i,filesystemRoots:r}}function $t(e,t){return t.find(n=>n.pageId===e&&n.fileType===".page.route")}function mr(e,t){const n=$t(e,t);if(!n)return null;const{filePath:i,fileExports:r}=n;s(r);const o=r.guard;if(!o)return null;const l=i;return h($(o),`guard() defined by ${l} should be a function`),{hookFn:o,hookFilePath:l}}function yr(e){s(e.startsWith("/")),s(!e.endsWith("/"));const t=e.split("/"),n=T(t,0,-1).join("/")||"/";return s(n.startsWith("/")),s(!n.endsWith("/")||n==="/"),n}function vr(e,t){const{length:n}=e;return e=e.filter(i=>i!==t),s(e.length===n-1),e}async function _r(e,t){let n;if(e._pageFilesAll.length>0?(s(e._pageConfigs.length===0),n=mr(e._pageId,e._pageFilesAll)):n=V(e,"guard"),!n)return;const i=n.hookFn;let r=e;const o=t(e);o&&(r=o);const l=await le(()=>i(r),"guard",n.hookFilePath);h(l===void 0,`The guard() hook of ${n.hookFilePath} returns a value, but guard() doesn't accept any return value`)}function br(e){const t=new Error("AbortRender");return y(t,{_pageContextAbort:e,[It]:!0}),t}const It="_isAbortError";function ce(e){return typeof e=="object"&&e!==null&&It in e}function Pr(e){return e._urlRewrite||e._urlRedirect||e._abortStatusCode?(s(g(e,"_abortCall","string")),s(g(e,"_abortCaller","string")),!0):!1}function Rr(e,t,n){var i;if(t)return;const r=(i=n._urlRewrite)!==null&&i!==void 0?i:n.urlOriginal;s(r);const o=e._pageContextAbort._abortCall;we(!1,`${he.cyan(o)} intercepted while rendering URL ${he.bold(r)}`,{onlyOnce:!1})}function wr(e){Er(e);const t={_urlRewrite:null};return e.forEach(n=>{Object.assign(t,n)}),t}function Er(e){const t=[];e.forEach(n=>{const i=n._urlRewrite;{const r=t.indexOf(i);if(r!==-1){const o=[...t.slice(r),i].map(l=>`render('${l}')`).join(" => ");h(!1,`Infinite loop of render() calls: ${o}`)}}t.push(i)})}const Lt=C("router/getPageContext.ts",{});async function Sr(e){if(e._isFirstRenderAttempt&&Pt.isFirstUrl(e.urlOriginal)){s(g(e,"_isFirstRenderAttempt","true"));const t=await Fr(e);return Xe(t),t}else{s(g(e,"_isFirstRenderAttempt","false"));const t=await Cr(e);return Xe(t),t}}async function Fr(e){const t=Ti();At(t),y(t,{isHydration:!0,_hasPageContextFromClient:!1}),y(t,await te(e._pageFilesAll,e._pageConfigs,t._pageId));{const n={...e,...t};if(await Tr(n)){const i=await Bt(n);y(t,i)}}return t}async function Or(e){const t=dt(e._pageFilesAll,e._pageConfigs);if(!t)throw new Error("No error page defined.");const n={isHydration:!1,_pageId:t};return y(n,await Dt({...e,...n},!0)),n}async function Cr(e){const t={isHydration:!1};return y(t,await Ar(e)),y(t,await Dt({...e,...t},!1)),t}async function Dt(e,t){let n={};if(y(n,await te(e._pageFilesAll,e._pageConfigs,e._pageId)),!t&&await kr({...e,...n})){const i=await Ir(e);if(!i._isError)y(n,i);else{const r=dt(e._pageFilesAll,e._pageConfigs);s(r),n={},y(n,{isHydration:!1,_pageId:r}),y(n,await te(e._pageFilesAll,e._pageConfigs,n._pageId)),s(g(i,"is404","boolean")),s(g(i,"pageProps","object")),s(g(i.pageProps,"is404","boolean")),s(!("serverSideError"in i)),y(n,i)}}else y(n,{_hasPageContextFromServer:!1}),t||await _r({_hasPageContextFromClient:!1,...e,...n},i=>Ce(i,!0));{const i=await Bt({...e,...n});y(n,i)}return n}async function Bt(e){const t=V(e,"onBeforeRender");if(!t)return{_hasPageContextFromClient:!1};const n=t.hookFn,i={_hasPageContextFromClient:!0},r=Ce({...e,...i},!0),o=await le(()=>n(r),"onBeforeRender",t.hookFilePath);fr(o,t.hookFilePath);const l=o==null?void 0:o.pageContext;return y(i,l),i}async function kr(e){return!!Lt.pageContextInitHasClientData||await xr(e)}function Xe(e){e._pageContextInitHasClientData&&(Lt.pageContextInitHasClientData=!0)}async function xr(e){if(e._pageConfigs.length>0){const t=jt(e._pageId,e._pageConfigs);return ne(t,"onBeforeRenderEnv")==="server-only"}else{const{hasOnBeforeRenderServerSideOnlyHook:t}=await Ai(e._pageFilesAll,e._pageId);return t}}async function Tr(e){if(e._pageConfigs.length>0){const t=jt(e._pageId,e._pageConfigs);return ne(t,"onBeforeRenderEnv")==="client-only"}else return!1}async function Ar(e){const n=(await kt(e)).pageContextAddendum;if(!n._pageId){const i=new Error("No routing match");throw jr(i),i}return s(g(n,"_pageId","string")),n}function jr(e){y(e,{_is404:!0})}function $r(e){return R(e)&&e._is404===!0}async function Ir(e){var t,n;const i=(n=(t=e._urlRewrite)!==null&&t!==void 0?t:e._urlOriginalPristine)!==null&&n!==void 0?n:e.urlOriginal,r=ar(i),o=await fetch(r);{const u=o.headers.get("content-type"),c="application/json",f=u&&u.includes(c);if(!f&&o.status===404)throw Z(e.urlOriginal),Dr();h(f,`Wrong Content-Type for ${r}: it should be ${c} but it's ${u} instead. Make sure to properly use pageContext.httpResponse.headers, see https://vite-plugin-ssr.com/renderPage`)}const l=await o.text(),a=oe(l);if(s(R(a)),"serverSideError"in a)throw ot("`pageContext` could not be fetched from the server as an error occurred on the server; check your server logs.");if(Pr(a))throw br(a);return s(g(a,"_pageId","string")),At(a),y(a,{_hasPageContextFromServer:!0}),a}function Lr(e){return R(e)&&!!e._alreadyServerSideRouted}function Dr(){const e=new Error("Page doesn't exist");return Object.assign(e,{_alreadyServerSideRouted:!0}),e}function Nt(){const e="/";return s(Br(e)),e}function Br(e){return e.startsWith("/")}const fe=C("createPageContext.ts",{});async function Wt(e){fe.pageFilesData||(fe.pageFilesData=await Zn(!0));const{pageFilesAll:t,allPageIds:n,pageConfigs:i,pageConfigGlobal:r}=fe.pageFilesData,{pageRoutes:o,onBeforeRouteHook:l}=await gr(t,i,r,n),a=Nt();s(Se(a));const u={_objectCreatedByVitePluginSsr:!0,_urlHandler:null,_urlRewrite:null,_baseServer:a,_isProduction:!0,_pageFilesAll:t,_pageConfigs:i,_pageConfigGlobal:r,_allPageIds:n,_pageRoutes:o,_onBeforeRouteHook:l};return y(u,e),Rt(u),u}async function Ht(e){const t=await Wt({urlOriginal:e}),n=await kt(t),i=t._pageFilesAll,r=t._pageConfigs;if(!("pageContextAddendum"in n))return{pageId:null,pageFilesAll:i,pageConfigs:r};const o=n.pageContextAddendum._pageId;return o?{pageId:o,pageFilesAll:i,pageConfigs:r}:{pageId:null,pageFilesAll:i,pageConfigs:r}}function H(e){return e.fileType===".css"?[]:e.exportNames?e.exportNames:(s(e.fileExports,e.filePath),Object.keys(e.fileExports))}function Nr({pageFilesClientSide:e,pageFilesServerSide:t,pageId:n}){return{isHtmlOnly:i(),isClientRouting:o()};function i(){return t.some(a=>a.pageId===n&&a.fileType===".page")?(r(),!1):!(!t.some(a=>a.pageId===n&&a.fileType===".page.server")||e.some(a=>a.pageId===n&&a.fileType===".page.client"&&H(a).includes("render")))}function r(){const l=e.some(a=>H(a).includes("render"));h(l,["No client-side `render()` hook found.","See https://vite-plugin-ssr.com/render-modes for more information.",["Loaded client-side page files (none of them `export { render }`):",...e.map((a,u)=>` (${u+1}): ${a.filePath}`)].join(`
`)].join(" "))}function o(){return e.some(a=>H(a).includes("clientRouting"))}}function Wr({pageFilesClientSide:e,pageFilesServerSide:t,isHtmlOnly:n,isClientRouting:i}){let r=[];const o=t.filter(a=>!e.includes(a)),l=[];if(l.push(...e.map(a=>({id:a.filePath,onlyAssets:!1,eagerlyImported:!1}))),l.push(...o.map(a=>({id:a.filePath,onlyAssets:!0,eagerlyImported:!1}))),n)r=e.map(a=>a.filePath);else{const a=Hr(i);l.push({id:a,onlyAssets:!1,eagerlyImported:!1}),r=[a]}return{clientEntries:r,clientDependencies:l}}function Hr(e){return e?"@@vite-plugin-ssr/dist/esm/client/router/entry.js":"@@vite-plugin-ssr/dist/esm/client/entry.js"}function Vr(e,t){let n=Fe(e,t);const i=mt(e,t),{isHtmlOnly:r,isClientRouting:o}=Nr({pageFilesClientSide:n,pageFilesServerSide:i,pageId:t});r&&(n=n.filter(u=>u.isEnv("CLIENT_ONLY")&&!H(u).includes("render")),n=Ur(n));const{clientEntries:l,clientDependencies:a}=Wr({pageFilesClientSide:n,pageFilesServerSide:i,isHtmlOnly:r,isClientRouting:o});return{isHtmlOnly:r,isClientRouting:o,clientEntries:l,clientDependencies:a,pageFilesClientSide:n,pageFilesServerSide:i}}async function zr(e,t,{sharedPageFilesAlreadyLoaded:n}){const i=Fe(e,t);await Promise.all(i.map(async r=>{var o;s(r.isEnv("CLIENT_ONLY")||r.isEnv("CLIENT_AND_SERVER")),!(n&&r.isEnv("CLIENT_AND_SERVER"))&&await((o=r.loadExportNames)===null||o===void 0?void 0:o.call(r))}))}function Ur(e){const t=[];for(const n of e)if(t.push(n),H(n).includes("overrideDefaultPages"))break;return t}function Gr(e,t,n){var i,r;if(e){const o=(i=ne(e,"clientRouting","boolean"))!==null&&i!==void 0?i:!1;return{isClientSideRenderable:(r=ne(e,"isClientSideRenderable","boolean"))!==null&&r!==void 0?r:!1,isClientRouting:o}}else{const{isHtmlOnly:o,isClientRouting:l}=Vr(t,n);return{isClientSideRenderable:!o,isClientRouting:l}}}async function Vt(e){const{pageId:t,pageFilesAll:n,pageConfigs:i}=await Ht(e);if(!t)return!1;await zr(n,t,{sharedPageFilesAlreadyLoaded:!1});const r=xt(i,t),{isClientSideRenderable:o,isClientRouting:l}=Gr(r,n,t);return o&&l}function zt(e){return!e.startsWith("/")&&!e.startsWith(".")&&!e.startsWith("?")&&e!==""}function Ut(e){const t=e.getAttribute("href");return!!(t===null||t===""||zt(t)||Mr(e)||Jr(t)||!Kr(t)||!Ee(t)||!Yr(e))}function Yr(e){if(yo()){const n=e.getAttribute("data-vike-link");return n!==null&&n!=="false"}else return!0}function Mr(e){const t=e.getAttribute("target"),n=e.getAttribute("rel");return t==="_blank"||t==="_external"||n==="external"||e.hasAttribute("download")}function Jr(e){if(e.startsWith("#"))return!0;const t=n=>n.split("#")[0];return!!(e.includes("#")&&t(e)===t(window.location.href))}function Kr(e){const t=Nt();s(Se(t));const{hasBaseServer:n}=G(e,t);return n}function qr(e,t){let n=Xr(e,t);return n==="viewport"&&!e._isProduction&&(we(!1,"Viewport prefetching is disabled in development",{onlyOnce:!0}),n="hover"),{prefetchStaticAssets:n}}function Xr(e,t){{const n=Qr(t);if(n!==null)return n}if("prefetchLinks"in e.exports&&h(!1,"`export { prefetchLinks }` is deprecated, use `export { prefetchStaticAssets }` instead."),"prefetchStaticAssets"in e.exports){const{prefetchStaticAssets:n}=e.exports;if(n===!1)return!1;if(n==="hover")return"hover";if(n==="viewport")return"viewport";const i="prefetchStaticAssets value should be false, 'hover', or 'viewport'";h(j(n),i);const r=Object.keys(n);h(r.length===1&&r[0]==="when",i);const{when:o}=n;if(o==="HOVER"||o==="VIEWPORT"){const l=o.toLowerCase();return P(!1,`prefetchStaticAssets value \`{ when: '${o}' }\` is outdated: set prefetchStaticAssets to '${l}' instead`,{onlyOnce:!0}),l}h(!1,i)}return"hover"}function Qr(e){const t=e.getAttribute("data-prefetch-static-assets"),n=e.getAttribute("data-prefetch");if(t===null&&n===null)return null;const i="The attribute data-prefetch is outdated, use data-prefetch-static-assets instead.";if(t){if(h(n===null,i),t==="hover"||t==="viewport")return t;if(t==="false")return!1;h(!1,`data-prefetch-static-assets has value "${t}" but it should instead be "false", "hover", or "viewport"`)}if(n){if(s(!t),P(!1,i,{onlyOnce:!0}),n==="true")return"viewport";if(n==="false")return"hover";h(!1,`data-prefetch has value "${n}" but it should instead be "true" or "false"`)}s(!1)}const Gt=new Map;function Yt(e){const t=Jt(e);return Gt.has(t)}function Mt(e){const t=Jt(e);Gt.set(t,!0)}function Jt(e){return G(e,"/").pathname}N();const Qe=new Map;async function de(e){if(h(lt(),"prefetch() only works with Client Routing, see https://vite-plugin-ssr.com/prefetch",{showStackTrace:!0}),h(!zt(e),`You are trying to prefetch the URL ${e} of another domain which cannot be prefetched`,{showStackTrace:!0}),Yt(e))return;Mt(e);const{pageId:t,pageFilesAll:n,pageConfigs:i}=await Ht(e);if(t)try{await te(n,i,t)}catch(r){if(ke(r))_e(r,!0);else throw r}}function Zr(e){Mt(e.urlPathname),[...document.getElementsByTagName("A")].forEach(async n=>{if(Qe.has(n))return;Qe.set(n,!0);const i=n.getAttribute("href");if(Ut(n))return;s(i);try{if(!await Vt(i))return}catch{return}if(Yt(i))return;const{prefetchStaticAssets:r}=qr(e,n);if(r){if(r==="hover")n.addEventListener("mouseover",()=>de(i)),n.addEventListener("touchstart",()=>de(i),{passive:!0});else if(r==="viewport"){const o=new IntersectionObserver(l=>{l.forEach(a=>{a.isIntersecting&&(de(i),o.disconnect())})});o.observe(n)}}else return})}async function eo(e,t){const n=Ce(e,t);let i=null,r;i=V(e,"render"),r="render";{const a=V(e,"onRenderClient");a&&(i=a,r="onRenderClient")}if(!i){const a=to(e);if(e._pageConfigs.length>0)h(!1,`No onRenderClient() hook defined for URL '${a}', but it's needed, see https://vite-plugin-ssr.com/onRenderClient`);else{const u=e._pageFilesLoaded.filter(f=>f.fileType===".page.client");let c;u.length===0?c="No file `*.page.client.*` found for URL "+a:c="One of the following files should export a `render()` hook: "+u.map(f=>f.filePath).join(" "),h(!1,c)}}s(i);const o=i.hookFn;s(r);const l=await le(()=>o(n),r,i.hookFilePath);h(l===void 0,`The ${r}() hook defined by ${i.hookFilePath} isn't allowed to return a value`)}function to(e){var t;let n;try{n=(t=e.urlPathname)!==null&&t!==void 0?t:e.urlOriginal}catch{}return n=n??window.location.href,n}function Kt(){let e=window.history.state;e||(e={});let t=!1;"timestamp"in e||(t=!0,e.timestamp=Xt()),"scrollPosition"in e||(t=!0,e.scrollPosition=qt()),Qt(e),t&&Te(e)}function xe(){const e=window.history.state||{};return Qt(e),e}function qt(){return{x:window.scrollX,y:window.scrollY}}function Xt(){return new Date().getTime()}function Ze(){const e=qt(),t=xe();Te({...t,scrollPosition:e})}function no(e,t){if(t)Te(xe(),e);else{const n=Xt();io({timestamp:n,scrollPosition:null},e)}}function Qt(e){if(s(R(e)),"timestamp"in e){const{timestamp:t}=e;s(typeof t=="number")}if("scrollPosition"in e){const{scrollPosition:t}=e;t!==null&&s(g(t,"x","number")&&g(t,"y","number"))}}function Te(e,t){window.history.replaceState(e,"",t??null)}function io(e,t){window.history.pushState(e,"",t)}N();const ro=C("navigate.ts",{});function oo(e){ro.navigate=e}const F=C("useClientRouter.ts",{previousState:ie()});ho();Kt();function _e(e,t){s(ke(e)),F.clientRoutingIsDisabled=!0,t&&console.log(e),we(!1,["Failed to fetch static asset.","This usually happens when a new frontend is deployed.","Falling back to Server Routing.","(The next page navigation will use Server Routing instead of Client Routing.)"].filter(Boolean).join(" "),{onlyOnce:!0})}function so(){fo(),lo((r,{keepScrollPosition:o})=>{i({scrollTarget:o?"preserve-scroll":"scroll-to-top-or-hash",urlOriginal:r,isBackwardNavigation:!1,checkClientSideRenderable:!0})}),ao((r,o)=>{i({scrollTarget:r,isBackwardNavigation:o})}),oo(async(r,{keepScrollPosition:o=!1,overwriteLastHistoryEntry:l=!1}={})=>{await i({scrollTarget:o?"preserve-scroll":"scroll-to-top-or-hash",urlOriginal:r,overwriteLastHistoryEntry:l,isBackwardNavigation:!1,checkClientSideRenderable:!0})});let e=0,t,n=!1;i({scrollTarget:"preserve-scroll",isBackwardNavigation:null});return;async function i({scrollTarget:r,urlOriginal:o=M(),overwriteLastHistoryEntry:l=!1,isBackwardNavigation:a,checkClientSideRenderable:u,pageContextsFromRewrite:c=[]}){var f,d;if(F.clientRoutingIsDisabled){Z(o);return}const p=wr(c);if(u){const E=(f=p._urlRewrite)!==null&&f!==void 0?f:o;let S;try{S=await Vt(E)}catch(Ie){if(ce(Ie))S=!0;else throw Ie}if(!S){Z(o);return}}const m={urlOriginal:o,isBackwardNavigation:a,...p},v=++e;s(v>=1),v>1&&n===!1&&((d=F.onPageTransitionStart)===null||d===void 0||d.call(F,m),n=!0);let O=!1;const b=()=>v===1&&O===!1?!1:v!==e,_=await Wt(m);if(b())return;const je=v===1;y(_,{_isFirstRenderAttempt:je});let J,k,$e=!1;try{J=await Sr(_)}catch(E){$e=!0,k=E}if($e){if(ce(k)||console.error(k),tt(k,_))return;if(ce(k)){const E=k;Rr(k,_._isProduction,_);const S=E._pageContextAbort;if(S._urlRewrite){await i({scrollTarget:r,urlOriginal:o,overwriteLastHistoryEntry:l,isBackwardNavigation:a,pageContextsFromRewrite:[...c,S]});return}if(S._urlRedirect){await i({scrollTarget:"scroll-to-top-or-hash",urlOriginal:S._urlRedirect.url,overwriteLastHistoryEntry:!1,isBackwardNavigation:!1,checkClientSideRenderable:!0});return}s(S._abortStatusCode),y(_,S)}else y(_,{is404:$r(k)});try{J=await Or(_)}catch(E){if(tt(E,_)||(je||setTimeout(()=>{window.location.pathname=o},0),Oi(k,E)))return;throw E}}if(s(J),y(_,J),ue(_,"onPageTransitionStart"),F.onPageTransitionStart=_.exports.onPageTransitionStart,_.exports.hydrationCanBeAborted?O=!0:P(!Fi(),"You seem to be using React; we recommend setting `hydrationCanBeAborted` to `true`, see https://vite-plugin-ssr.com/clientRouting",{onlyOnce:!0}),!b()&&(t&&await t,!b())){if(uo(o,l),Pt.markNavigationChange(),s(t===void 0),t=(async()=>{await eo(_,!0),Zr(_)})(),await t,t=void 0,_._isFirstRenderAttempt){ue(_,"onHydrationEnd");const{onHydrationEnd:E}=_.exports;if(E){const S=_.exportsAll.onHydrationEnd[0].exportSource;s(S),await le(()=>E(_),"onHydrationEnd",S)}}else v===e&&(_.exports.onPageTransitionEnd&&(ue(_,"onPageTransitionEnd"),_.exports.onPageTransitionEnd(_)),n=!1);Zt(r),Ae(),F.initialRenderIsDone=!0}}}function lo(e){document.addEventListener("click",t);return;function t(r){if(!n(r))return;const o=i(r.target);if(!o)return;const l=o.getAttribute("href");if(Ut(o))return;s(l),r.preventDefault();const a=![null,"false"].includes(o.getAttribute("keep-scroll-position"));e(l,{keepScrollPosition:a})}function n(r){return r.button===0&&!r.ctrlKey&&!r.shiftKey&&!r.altKey&&!r.metaKey}function i(r){for(;r.tagName!=="A";){const{parentNode:o}=r;if(!o)return null;r=o}return r}}function ao(e){window.addEventListener("popstate",()=>{const t=ie(),n=t.historyState.scrollPosition||"scroll-to-top-or-hash",i=t.urlWithoutHash===F.previousState.urlWithoutHash,r=!t.historyState.timestamp||!F.previousState.historyState.timestamp?null:t.historyState.timestamp<F.previousState.historyState.timestamp;F.previousState=t,i?window.history.state===null?(Kt(),F.previousState=ie()):Zt(n):e(n,r)})}function uo(e,t){M()!==e&&(Ae(),no(e,t),F.previousState=ie())}function ie(){return{urlWithoutHash:M({withoutHash:!0}),historyState:xe()}}function Zt(e){if(e==="preserve-scroll")return;let t;if(e==="scroll-to-top-or-hash"){const n=go();if(n&&n!=="top"){const i=document.getElementById(n)||document.getElementsByName(n)[0];if(i){i.scrollIntoView();return}}t={x:0,y:0}}else s("x"in e&&"y"in e),t=e;co(t)}function co(e){const t=()=>window.scrollTo(e.x,e.y),n=()=>window.scrollX===e.x&&window.scrollY===e.y;n()||(t(),!n()&&requestAnimationFrame(()=>{t(),!n()&&setTimeout(async()=>{if(t(),n())return;const i=new Date().getTime();for(;;)if(await Ci(10),t(),n()||new Date().getTime()-i>100)return},0)}))}function fo(){window.addEventListener("scroll",ki(Ze,Math.ceil(1e3/3)),{passive:!0}),en(Ze)}function go(){let{hash:e}=window.location;return e===""?null:(s(e.startsWith("#")),e=e.slice(1),e)}function ho(){et(),en(et),po(()=>F.initialRenderIsDone&&Ae())}function Ae(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")}function et(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto")}function en(e){window.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()})}function po(e){window.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&e()})}function tt(e,t){return!!(Lr(e)||mo(e,t))}function mo(e,t){if(!ke(e))return!1;if(t._isFirstRenderAttempt)throw _e(e,!1),e;return _e(e,!0),Z(t.urlOriginal),!0}function yo(){return!!window._disableAutomaticLinkInterception}N();ln(!0);so();
